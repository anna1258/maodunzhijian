# 正则的基本语法

## 限定符

a* a出现0次或多次

a+ a出现1次或多次

a? a出现0次或1次

a{6} a出现6次

a{2,6} a出现2-6次

a{2,} a出现2次以上

或运算符（a|b）匹配a或b

（ab）|（cd）匹配ab或cd

## 字符类

[abc]匹配a或b或c

[a-c]匹配a或b或c

[a-fA-F0-9]匹配小写+大写英文字符及数字

[^0-9]匹配非数字字符

## 元字符

\d匹配数字字符digit

\D匹配非数字字符

\w匹配单词字符（英文、数字、下划线）word

\W匹配非单词字符

\s匹配空白符（包含换行符，TAB）space

\S匹配非空白字符

. 匹配任意字符（换行符除外）

\bword\b \b标注字符的边界（全字匹配）

^匹配行首

$匹配行尾

() 既用于分组，也用于捕获，捕获就是最终要捕获显示的内容，不在()内的只匹配不显示。

## 贪婪/懒惰匹配

<.+>默认贪婪匹配“任意字符”

<.+>懒惰匹配“任意字符”

主要影响“重复匹配符号”（如 `*`、`+`、`?`、`{n,m}`）的匹配行为。

1. 贪婪匹配（Greedy）尽可能多地匹配字符，直到整个表达式不能再继续匹配为止。正则里的 `*`、`+`、`?`、`{n,m}` 默认都是贪婪的。

   正则表达式：`a.*b`  测试字符串：`a123b456b`匹配结果：`a123b456b``

   ``.*` 会尽量多地匹配中间的所有内容，直到最后一个 `b`。

2. 懒惰匹配（Lazy/Non-Greedy）尽可能少地匹配字符，即在满足整个表达式的前提下，匹配最少的字符。在重复符号后面加一个 `?`，如 `*?`、`+?`、`??`、`{n,m}?`

   正则表达式：`a.*?b`  测试字符串：`a123b456b`匹配结果：`a123b`，`.*?` 会尽可能少地匹配，只要遇到第一个`b` 就停止。

## 非捕获组

在正则表达式中，非捕获组是一种特殊的组，用于在匹配过程中不捕获匹配的文本。在正则表达式中，通常用小括号 () 来定义一个捕获组，而使用非捕获组则是在小括号前面加上问号和冒号 (?:)。使用非捕获组的主要目的是在匹配过程中不会把该组的内容保存到匹配结果中，从而减少内存消耗和提高匹配效率。

例如：^https:\/\/www\.smartsurvey\.(?:ru|com|cn)\/

(?:ru|com|cn)：表示非捕获组，其中 ru|com|cn 表示匹配 "ru"、"com" 或 "cn" 中的任意一个。非捕获组由 (?: ... ) 表示。

限制正则的匹配长度或者匹配时间直接防护redos.

# 正则中存在的安全问题

## Redos漏洞

有缺陷的正则表达式会包含如下部分：

(a+)+

([a-zA-Z]+)

(a|aa)+

(a|a?)+

(.*a){x}      for x > 10

注意: 这里的a是个泛指

浅析ReDoS的原理与实践 - 腾讯云开发者社区-腾讯云 (tencent.com)https://cloud.tencent.com/developer/article/1041326

在线测试：https://devina.io/redos-checker，



# 正则练习

正则测试

https://regex101.com/。https://hiregex.com/ 中文版的regex101

正则闯关练习题

https://alf.nu/RegexGolf?world=regex&level=r00
